# Introduction

This is a self made framework for a REST API. WIP, it still misses a lot of implementation like Authentication, support for rare HTTP method, proper routing, etc...

Every request are redirected to [index.php](https://github.com/MikaBob/parking-system/tree/main/src/index.php), the entrypoint.

We will go into details, but in a nutshell we have the following process:

- Load libraries & php files
- Router parse request & instanciate the proper controller
- Controller will handle the request
    - authenticate if necessary
    - use a DAO to fetch or process data in the database
    - prepare and serialise its response
- Output the response


# Autoloader

The first autoloader is generated by composer to load the vendor libraries.

The second one is use by php, upon the keyword `use ParkingSystem\Folder\Class;`.

It will also validate and load the .env file.

# Router

The Router handle every request. It firstly parse the requested URL and method to a format of `/Controller/Action/param1/param2/...` .

From these info, it will look for an associated controller. If the Controller and his action exist, the router will print the controller's response.

Example of Request `GET /fee/byplate/abcd/1234` will be parsed into `FeeController::GETbyplate(["abcd","1234"])`